# malongyu 2300930
from Online_least_squares_method.founction import *
import numpy as np
'''
X = [[0           ,0        , 0.201    ,   1.147     ],
     [-0.47984    ,0        ,-0.787    ,    0.201     ],
     [ 1.02447728 ,-0.47984    ,-1.159    ,  -0.787     ],
     [-0.61164609 ,1.02447728 ,-1.052   ,   -1.159     ],
     [ 1.08775163 ,-0.61164609 , 0.866   ,   -1.052     ],
     [-1.31830122 , 1.08775163 , 1.152    ,   0.866     ],
     [ 0.63452819 ,-1.31830122 , 1.573    ,   1.152     ],
     [-1.11597991 , 0.63452819 , 0.626    ,   1.573     ],
     [ 0.58406136 ,-1.11597991 , 0.433    ,   0.626     ],
     [-0.54907312 , 0.58406136 ,-0.958    ,   0.433     ],
     [ 0.70604419 ,-0.54907312 , 0.81    ,   -0.958     ],
     [-0.74733728 , 0.70604419 ,-0.044    ,   0.81      ],
     [ 0.45596621 ,-0.74733728 , 0.947    ,  -0.044     ],
     [-0.56828037 , 0.45596621 ,-1.474     ,  0.947     ],
     [ 0.85051052 ,-0.56828037 ,-0.719    ,  -1.474     ],
     [-0.19390782 , 0.85051052 ,-0.086    ,  -0.719     ],
     [-0.00452839 ,-0.19390782 ,-1.099    ,  -0.086     ],
     [ 0.60478971 ,-0.00452839 , 1.45     ,  -1.099     ],
     [-1.1706769  , 0.60478971 , 1.151    ,   1.45      ],
     [ 0.53343683 ,-1.1706769  , 0.485   ,    1.151     ],
     [-0.63086929 , 0.53343683 , 1.633    ,   0.485     ],
     [-0.15213996 ,-0.63086929 , 0.043     ,  1.633     ],
     [ 0.11256536 ,-0.15213996 , 1.326     ,  0.043     ],
     [-0.60824224 , 0.11256536 , 1.706     ,  1.326     ],
     [-0.21119047 ,-0.60824224 ,-0.34      ,  1.706     ],
     [ 0.31716795 ,-0.21119047 , 0.89      , -0.34      ],
     [-0.59788859 , 0.31716795 , 1.144     ,  0.89      ],
     [-0.00270202 ,-0.59788859 , 1.177     ,  1.144     ],
     [-0.42750294 ,-0.00270202 ,-0.39      ,  1.177     ]]

y = [ 0.47984,    -1.02447728,  0.61164609, -1.08775163,  1.31830122, -0.63452819,
  1.11597991, -0.58406136,  0.54907312, -0.70604419,  0.74733728, -0.45596621,
  0.56828037, -0.85051052,  0.19390782,  0.00452839, -0.60478971,  1.1706769,
 -0.53343683,  0.63086929,  0.15213996 ,-0.11256536,  0.60824224 , 0.21119047,
 -0.31716795,  0.59788859 , 0.00270202 , 0.42750294, -0.44404178]
 '''

X = [[0  ,     0    ,      0.201    ,   1.147     ],
 [-1.02945684 ,0       , -0.787      , 0.201     ],
 [ 2.37685077, -1.02945684 ,-1.159   ,   -0.787     ],
 [-2.90172768 , 2.37685077 ,-1.052   ,   -1.159     ],
 [ 3.96755321 ,-2.90172768 , 0.866  ,    -1.052     ],
 [-4.16003863 , 3.96755321 , 1.152    ,   0.866     ],
 [ 3.23379061 ,-4.16003863  ,1.573 ,      1.152     ],
 [-3.9983916  , 3.23379061 , 0.626   ,    1.573     ],
 [ 3.3691445 , -3.9983916  , 0.433  ,     0.626     ],
 [-2.72784834 , 3.3691445 , -0.958  ,     0.433     ],
 [ 1.44359984 ,-2.72784834 , 0.81   ,    -0.958     ],
 [-1.40190665,  1.44359984 ,-0.044   ,    0.81      ],
 [ 0.79664837 ,-1.40190665 , 0.947    ,  -0.044     ],
 [-0.67796219 , 0.79664837 ,-1.474    ,   0.947     ],
 [ 0.66648506 ,-0.67796219 ,-0.719   ,   -1.474     ],
 [ 0.24473313 , 0.66648506 ,-0.086   ,   -0.719     ],
 [-0.80326671 , 0.24473313, -1.099    ,  -0.086     ],
 [ 1.39811834 ,-0.80326671 , 1.45    ,   -1.099     ],
 [-1.76457568 , 1.39811834 , 1.151  ,     1.45      ],
 [ 1.61532798 ,-1.76457568  ,0.485 ,      1.151     ],
 [-1.94306954  ,1.61532798  ,1.633    ,   0.485     ],
 [ 1.31645693 ,-1.94306954,  0.043    ,   1.633     ],
 [-1.10761976  ,1.31645693 , 1.326     ,  0.043     ],
 [ 0.19518784 ,-1.10761976 , 1.706     ,  1.326     ],
 [-1.15052766 , 0.19518784, -0.34      ,  1.706     ],
 [ 1.1365522  ,-1.15052766,  0.89    ,   -0.34      ],
 [-1.30445699 , 1.1365522  , 1.144    ,   0.89      ],
 [ 0.73829929 ,-1.30445699 , 1.177    ,   1.144     ],
 [-1.53683014 , 0.73829929 ,-0.39     ,   1.177     ]]
y =[1.0294568434846476, -2.376850767139841, 2.901727679192523, -3.9675532135112186, 4.1600386289756415, -3.2337906135630337, 3.9983915973748987, -3.369144499249725, 2.7278483415716437, -1.4435998432572172, 1.4019066516628242, -0.7966483667468016, 0.6779621949038679, -0.6664850626091927, -0.2447331344681225, 0.8032667079960722, -1.3981183387533387, 1.7645756808292166, -1.615327982340467, 1.9430695394579143, -1.3164569300142992, 1.1076197642265577, -0.1951878352274477, 1.150527661856642, -1.1365521983450269, 1.304456985113494, -0.7382992868956277, 1.5368301410470653, -1.8219707981377147]
P = 9999 * np.eye(4)
seita = np.zeros((4, 1))

for i in range(29):
    fai = np.array(X[i]).reshape(1, -1).T
    K = K_k(P,fai)
    seita = seita_k(seita,K,y[i],fai)
    P = P_k(K, fai, P)
    print(seita.ravel().tolist() )
    #print(P)
    #print('====================================================')

